<div id="faq-swiper-accordion">
  <div class="h-screen bg-white grid place-items-center">
    <div class="w-6/12 mx-auto rounded border">
      <div class="bg-white p-10 shadow-sm">
        <p class="text-lg">{{ currentSlide }}</p>
        {% for block in section.blocks %}
          {% if currentSlide == 'orders' %}
            <div class="transition bg-white border border-solid border-black focus:bg-neutral-50">
              <div class="accordion-header cursor-pointer transition flex space-x-5 px-5 items-center h-16">
                <i class="fas fa-plus"></i>
                <p class="text-lg">{{ block.settings.ordersQuestion }}</p>
              </div>

              <div class="accordion-content px-5 pt-0 overflow-hidden max-h-0">
                <p class="leading-6 font-light pl-9 text-justify">
                  {{ block.settings.ordersAnswer }}
                </p>
              </div>
            </div>
          {% endif %}
          {% if currentSlide == 'fitting-care' %}
            <div class="transition bg-white border border-solid border-black focus:bg-neutral-50">
              <div class="accordion-header cursor-pointer transition flex space-x-5 px-5 items-center h-16">
                <i class="fas fa-plus"></i>
                <p class="text-lg">{{ block.settings.fittingQuestion }}</p>
              </div>

              <div class="accordion-content px-5 pt-0 overflow-hidden max-h-0">
                <p class="leading-6 font-light pl-9 text-justify">
                  {{ block.settings.fittingAnswer }}
                </p>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>

  <style>
    .accordion-content {
    transition: max-height 0.3s ease-out, padding 0.3s ease;
    }
  </style>

  <script>
    // Accordion

    const accordionHeader = document.querySelectorAll(".accordion-header");
    accordionHeader.forEach((header) => {
    header.addEventListener("click", function () {
        const accordionContent = header.parentElement.querySelector(".accordion-content");
        let accordionMaxHeight = accordionContent.style.maxHeight;

        // Condition handling
        if (accordionMaxHeight == "0px" || accordionMaxHeight.length == 0) {
        accordionContent.style.maxHeight = `${accordionContent.scrollHeight + 32}px`;
        header.querySelector(".fas").classList.remove("fa-plus");
        header.querySelector(".fas").classList.add("fa-minus");
        header.parentElement.classList.add("bg-neutral-50");
        } else {
        accordionContent.style.maxHeight = `0px`;
        header.querySelector(".fas").classList.add("fa-plus");
        header.querySelector(".fas").classList.remove("fa-minus");
        header.parentElement.classList.remove("bg-neutral-50");
        }
    });
    });
  </script>
</div>
